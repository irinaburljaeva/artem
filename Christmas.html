<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Christmas Escape ‚Äî B2</title>

<style>
:root{
  /* LIGHT CHRISTMAS PALETTE */
  --bg:#f6fbff;
  --panel:rgba(255,255,255,.92);
  --ink:#122033;

  --acc:#c1121f;        /* festive red */
  --acc2:#0b6b3a;       /* evergreen */
  --ok:#0b6b3a;
  --err:#b00020;

  --ice:#2f6fed;        /* winter blue */
  --border:rgba(18,32,51,.14);
  --shadow:0 18px 45px rgba(18,32,51,.18);
}

html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:system-ui, Segoe UI, Georgia, serif;
  overflow:hidden;
}

#stage{
  position:relative;
  width:100vw;
  height:100vh;
  background:
    linear-gradient(rgba(255,255,255,.62), rgba(246,251,255,.90)),
    url("A7FCFF67-3A1E-405B-A320-2843613FD998.png") center/cover no-repeat;
  display:flex;
  justify-content:flex-end;
  padding:40px;
  box-sizing:border-box;
}

.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  max-width:920px;
  padding:26px 28px;
  box-shadow:var(--shadow);
  backdrop-filter: blur(6px);
}

h1,h2{
  margin:.25em 0;
  text-align:center;
  color:var(--acc);
  font-weight:900;
  letter-spacing:.2px;
}
h2{color:#0f2a44}

p{margin:.7em 0}

.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:16px;
}

button{
  background:var(--acc);
  border:0;
  color:#fff;
  padding:12px 22px;
  border-radius:12px;
  cursor:pointer;
  font-weight:800;
  font-size:1rem;
  box-shadow:0 10px 22px rgba(193,18,31,.20);
}
button:hover{filter:brightness(1.05)}
button.secondary{
  background:var(--acc2);
  box-shadow:0 10px 22px rgba(11,107,58,.18);
}

input{
  background:#ffffff;
  border:1px solid var(--border);
  color:var(--ink);
  border-radius:10px;
  padding:10px 14px;
  min-width:260px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.7);
}

.center{text-align:center}
.small{font-size:.95em}
.muted{opacity:.75}
.msg{min-height:22px}

.ok{color:var(--ok);font-weight:800}
.bad{color:var(--err);font-weight:800}

.speak{
  border-left:4px solid var(--ice);
  background:rgba(47,111,237,.06);
  padding:16px 18px;
  border-radius:14px;
}

.story{
  background:rgba(11,107,58,.06);
  border:1px dashed rgba(11,107,58,.28);
  padding:14px 16px;
  border-radius:14px;
}

.fade{animation:fade .8s}
@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}
</style>
</head>

<body>
<div id="stage">
  <div class="panel fade">

    <h1>Christmas Escape ‚Äî B2 üéÑ</h1>
    <p class="center small muted">The courier mixed up three New Year gift boxes. Sort them before midnight.</p>

    <!-- SCENE 0 ‚Äî STORY / READING ALOUD -->
    <div id="scene-0" class="grid">
      <div class="speak">
        <p class="small muted center"><b>Read aloud</b></p>

        <p>
          It is Christmas Eve, and the city looks like a snow globe: quiet streets, warm lights, and the smell of cinnamon
          drifting from somewhere nearby.
        </p>

        <p>
          You are about to go home when your phone buzzes.
          A courier has just delivered three identical gift boxes ‚Äî but he accidentally mixed them up.
        </p>

        <p class="muted">
          The message says: ‚ÄúOnly one box is meant to be opened tonight. If you deliver the wrong one, you‚Äôll ruin the surprise.
          You have until midnight to figure out which gift belongs to whom.‚Äù
        </p>

        <p>
          On the table, you see three labels:
          <b>Box A</b>, <b>Box B</b>, and <b>Box C</b>.
          The only way to sort them is to unlock the ‚Äúlanguage locks‚Äù attached to each label.
        </p>

        <p>
          You take a deep breath‚Ä¶ and start with Box A.
        </p>
      </div>

      <div class="center">
        <button onclick="show('scene-1')">Start (Box A)</button>
      </div>
    </div>

    <!-- SCENE 1 ‚Äî LOCK 1 -->
    <div id="scene-1" class="grid" style="display:none">
      <h2>Box A ‚Äî Lock 1 (Collocations)</h2>
      <div class="story">
        <p class="small muted"><b>Story</b></p>
        <p>
          The label on Box A is covered in glitter‚Ä¶ and three half-finished phrases.
          It looks like the courier spilled his hot chocolate right on the important words.
        </p>
        <p class="muted">
          ‚ÄúComplete the collocations to reveal who this box belongs to.‚Äù
        </p>
      </div>

      <p>Complete the collocations (type the <b>missing words</b>):</p>
      <ol>
        <li>to wrap a <b>______</b></li>
        <li>to hang <b>______</b> on the tree</li>
        <li>to make a <b>______</b> (for the New Year)</li>
      </ol>

      <input id="c1" placeholder="3 words, comma-separated">
      <div class="center">
        <button onclick="check1()">Unlock Box A</button>
      </div>
      <div id="m1" class="msg"></div>

      <div class="speak">
        <p class="small muted"><b>Speaking</b></p>
        <p>
          What gift is difficult to get right ‚Äî and why?
          Tell a short story about a present that went slightly wrong.
        </p>
      </div>
    </div>

    <!-- SCENE 2 ‚Äî BETWEEN / READING -->
    <div id="scene-2" class="grid" style="display:none">
      <h2>Box A is unlocked ‚úÖ</h2>

      <div class="speak">
        <p class="small muted center"><b>Read aloud</b></p>
        <p>
          With a soft click, the tag on Box A unlocks.
          A tiny card slides out:
        </p>
        <p class="muted">
          ‚ÄúThis box is for the person who loves traditions ‚Äî and insists the tree must be decorated ‚Äòproperly‚Äô.‚Äù
        </p>
        <p>
          That narrows it down‚Ä¶ but you still have two boxes to sort.
          You glance at the clock: time is moving faster than you‚Äôd like.
        </p>
        <p>
          You pick up <b>Box B</b>. Its lock looks more serious.
        </p>
      </div>

      <div class="center">
        <button class="secondary" onclick="show('scene-3')">Continue (Box B)</button>
      </div>
    </div>

    <!-- SCENE 3 ‚Äî LOCK 2 (B2 GRAMMAR) -->
    <div id="scene-3" class="grid" style="display:none">
      <h2>Box B ‚Äî Lock 2 (Inversion)</h2>

      <div class="story">
        <p class="small muted"><b>Story</b></p>
        <p>
          Box B has a sleek black sticker that reads:
          <span class="muted">‚ÄúEmergency protocol. Formal English required.‚Äù</span>
        </p>
        <p class="muted">
          A sentence appears, and the beginning is missing.
          The lock won‚Äôt accept anything except the exact inversion starter.
        </p>
      </div>

      <p>Rewrite using inversion. Type the <b>missing first word</b> exactly:</p>
      <p class="muted">
        ‚ÄúI had just sat down when the doorbell rang.‚Äù ‚Üí ________ had I sat down when the doorbell rang.
      </p>

      <input id="g2" placeholder="Your answer">
      <div class="center">
        <button onclick="check2()">Unlock Box B</button>
      </div>
      <div id="m2" class="msg"></div>

      <div class="speak">
        <p class="small muted"><b>Speaking</b></p>
        <p>
          Invent a quick ‚Äúholiday emergency‚Äù story in 4‚Äì6 sentences.
          Try to use inversion once.
        </p>
      </div>
    </div>

    <!-- SCENE 4 ‚Äî BETWEEN / READING -->
    <div id="scene-4" class="grid" style="display:none">
      <h2>Box B is unlocked ‚úÖ</h2>

      <div class="speak">
        <p class="small muted center"><b>Read aloud</b></p>
        <p>
          The sticker peels back by itself.
          Underneath, you find a note:
        </p>
        <p class="muted">
          ‚ÄúThis box is for someone who hates rushing ‚Äî but always ends up saving everyone at the last minute.‚Äù
        </p>
        <p>
          Two boxes sorted‚Ä¶ one left.
          You lift <b>Box C</b>, and it feels surprisingly light.
          The final lock flashes: <b>PHRASAL VERBS</b>.
        </p>
      </div>

      <div class="center">
        <button onclick="show('scene-5')">Continue (Box C)</button>
      </div>
    </div>

    <!-- SCENE 5 ‚Äî FINAL LOCK (PHRASAL VERBS) -->
    <div id="scene-5" class="grid" style="display:none">
      <h2>Box C ‚Äî Final Lock (Phrasal verbs)</h2>

      <div class="story">
        <p class="small muted"><b>Story</b></p>
        <p>
          The lock looks almost playful, like it‚Äôs mocking you.
          It displays three sentences from a ‚Äúholiday chaos report‚Äù.
        </p>
      </div>

      <p>Type the <b>three phrasal verbs</b> (comma-separated, no extra spaces):</p>
      <ol class="muted">
        <li>‚ÄúWe ran ________ of wrapping paper.‚Äù</li>
        <li>‚ÄúCan you sort ________ the guest list?‚Äù</li>
        <li>‚ÄúI‚Äôll drop ________ after dinner.‚Äù</li>
      </ol>
      <p class="small muted">Particles: <code>in</code>, <code>out</code>, <code>by</code> (use each once).</p>

      <input id="p4" placeholder="e.g. run out,sort out,drop by">
      <div class="center">
        <button onclick="check4()">Unlock Box C</button>
      </div>
      <div id="m4" class="msg"></div>

      <div class="speak">
        <p class="small muted"><b>Speaking finale</b></p>
        <p>
          Make a short holiday ‚Äútoast‚Äù in English:
          one funny moment from this year, one lesson learned, one wish for next year.
        </p>
      </div>
    </div>

    <!-- END -->
    <div id="scene-end" class="grid center" style="display:none">
      <h2>All boxes sorted! üéÅüéÅüéÅ</h2>

      <div class="speak">
        <p class="small muted center"><b>Read aloud</b></p>
        <p>
          Midnight is close, but you did it.
          You attach the correct labels, send a quick message to the courier, and feel the tension fade.
        </p>
        <p class="muted">
          The screen shows one last line:
          ‚ÄúLanguage saves holidays too.‚Äù
        </p>
        <p>
          Somewhere outside, a bell rings.
          You smile ‚Äî and finally head home.
        </p>
      </div>
    </div>

  </div>
</div>

<script>
function show(id){
  document.querySelectorAll('[id^="scene-"]').forEach(s=>s.style.display='none');
  document.getElementById(id).style.display='grid';
}

function norm(s){return (s||"").trim().toLowerCase()}

function check1(){
  const v = norm(document.getElementById('c1').value);
  const m = document.getElementById('m1');
  if(
    v==="present,ornaments,resolution" ||
    v==="gift,ornaments,resolution" ||
    v==="present,baubles,resolution" ||
    v==="gift,baubles,resolution"
  ){
    m.innerHTML = '<span class="ok">Correct. Box A unlocks.</span>';
    setTimeout(()=>show('scene-2'),800);
  } else {
    m.innerHTML = '<span class="bad">Check collocations and format: 3 answers, comma-separated.</span>';
  }
}

function check2(){
  const v = norm(document.getElementById('g2').value);
  const m = document.getElementById('m2');
  if(v === "hardly"){
    m.innerHTML = '<span class="ok">Perfect. Box B unlocks.</span>';
    setTimeout(()=>show('scene-4'),800);
  } else {
    m.innerHTML = '<span class="bad">Try again. It‚Äôs a common inversion starter for ‚Äújust‚Ä¶when‚Ä¶‚Äù.</span>';
  }
}

function check4(){
  const v = norm(document.getElementById('p4').value);
  const m = document.getElementById('m4');
  if(v === "run out,sort out,drop by"){
    m.innerHTML = '<span class="ok">All correct. Box C unlocks.</span>';
    setTimeout(()=>show('scene-end'),900);
  } else {
    m.innerHTML = '<span class="bad">Check particles and format: run out,sort out,drop by (no spaces).</span>';
  }
}
</script>

</body>
</html>
